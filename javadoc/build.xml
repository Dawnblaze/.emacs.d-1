<?xml version="1.0"?>
<project default="prepare" xmlns:ivy="antlib:org.apache.ivy.ant">

  <target name="retrieve" description="Retrieve Javadoc jars with Ivy.">
    <ivy:retrieve pattern="[organisation].[artifact]/javadoc.[ext]"
                  type="javadoc"/>
    <!-- Hardcode JCIP, since it lacks a Javadoc jar. -->
    <mkdir dir="net.jcip.jcip-annotations"/>
    <get dest="net.jcip.jcip-annotations" skipexisting="true">
      <url url="http://repo1.maven.org/maven/mule/dependencies/maven2/net/jcip/annotations/1.0/annotations-1.0-javadoc.jar"/>
    </get>
  </target>

  <target name="prepare" depends="retrieve" description="Unzip all jars.">
    <exec executable="find">
      <arg value="."/>
      <arg value="-name"/>
      <arg value="*.jar"/>
      <arg value="-execdir"/>
      <arg value="unzip"/>
      <arg value="{}"/>
      <arg value=";"/>
    </exec>
  </target>

  <target name="clean" description="Remove all generated files.">
    <delete includeemptydirs="true">
      <fileset dir="." defaultexcludes="false" excludes="*.xml,.gitignore"/>
    </delete>
  </target>
</project>
